<?xml version='1.0' encoding='UTF-8'?>
<types:mule xmlns:types="http://www.mulesoft.org/schema/mule/types">
  <types:catalog>
    <types:type name="inputFromOstap" format="json">
      <types:shape format="weave" example="examples/infoFromOstap.json"><![CDATA[%dw 2.0

type inputFromOstap = {|
  date: String, 
  data: Array<{|    name: String,     symbol: String,     supply: String,     description: String,     developmentStatus: String,     proofType: String,     orgStructure: String,     coin_market_price: String,     coin_cap_price: String,     coin_market_volume24h: String,     coin_cap_volume24h: String  |}>
|} {"example": "{\\\"date\\\":\\\"2022-02-07T22:21:15.827+02:00\\\",\\\"data\\\":[{\\\"name\\\":\\\"Shiba Inu\\\",\\\"symbol\\\":\\\"SHIB\\\",\\\"supply\\\":\\\"589735030408322.8\\\",\\\"description\\\":\\\"description\\\",\\\"developmentStatus\\\":\\\"Working product\\\",\\\"proofType\\\":\\\"Proof of work\\\",\\\"orgStructure\\\":\\\"Decentralized\\\",\\\"coin_market_price\\\":\\\"0.0000\$\\\",\\\"coin_cap_price\\\":\\\"0.0000327134221111\$\\\",\\\"coin_market_volume24h\\\":\\\"5104859759.2521515\$\\\",\\\"coin_cap_volume24h\\\":\\\"3938267657.7141727233030099\$\\\"},{\\\"name\\\":\\\"Binance USD\\\",\\\"symbol\\\":\\\"BUSD\\\",\\\"supply\\\":\\\"16811371368.229256\\\",\\\"description\\\":\\\"description\\\",\\\"developmentStatus\\\":\\\"Working product\\\",\\\"proofType\\\":\\\"Proof of work\\\",\\\"orgStructure\\\":\\\"Decentralized\\\",\\\"coin_market_price\\\":\\\"1.0005\$\\\",\\\"coin_cap_price\\\":\\\"1.0012142506736812\$\\\",\\\"coin_market_volume24h\\\":\\\"4886564074.014513\$\\\",\\\"coin_cap_volume24h\\\":\\\"1014578206.9609374195744720\$\\\"}]}"}

]]></types:shape>
    </types:type>
    <types:type name="slug" format="json">
      <types:shape format="weave" example="examples/slugs.json"><![CDATA[%dw 2.0

type slug = Array<{| slug: String |}> {"example": "[{\\\"slug\\\":\\\"bitcoin\\\"},{\\\"slug\\\":\\\"ethereum\\\"}]"}

]]></types:shape>
    </types:type>
    <types:type name="combineJSON" format="json">
      <types:shape format="weave" example="examples/example.json"><![CDATA[%dw 2.0

type combineJSON = {|
  oldDate: String, 
  newDate: String, 
  dateDifference: String, 
  data: Array<{|    name: String,     symbol: String,     supply: String,     description: String,     developmentStatus: String,     proofType: String,     orgStructure: String,     coin_market_price_oldPriceUsd: String,     coin_cap_price_oldPriceUsd: String,     coin_market_price_newPriceUsd: String,     coin_cap_price_newPriceUsd: String,     coin_market_price_priceDifference: String,     coin_cap_price_priceDifference: String,     coin_market_volume24h: String,     coin_cap_volume24h: String  |}>
|} {"example": "{\\\"oldDate\\\":\\\"2021-12-29T19:24:19.277Z\\\",\\\"newDate\\\":\\\"2021-12-30T19:24:19.277Z\\\",\\\"dateDifference\\\":\\\"1 day\\\",\\\"data\\\":[{\\\"name\\\":\\\"Shiba Inu\\\",\\\"symbol\\\":\\\"SHIB\\\",\\\"supply\\\":\\\"589735030408322.8\\\",\\\"description\\\":\\\"description\\\",\\\"developmentStatus\\\":\\\"Working product\\\",\\\"proofType\\\":\\\"Proof of work\\\",\\\"orgStructure\\\":\\\"Decentralized\\\",\\\"coin_market_price_oldPriceUsd\\\":\\\"222222.2314\$\\\",\\\"coin_cap_price_oldPriceUsd\\\":\\\"222222.2314\$\\\",\\\"coin_market_price_newPriceUsd\\\":\\\"111111.2314\$\\\",\\\"coin_cap_price_newPriceUsd\\\":\\\"111111.2314\$\\\",\\\"coin_market_price_priceDifference\\\":\\\"111111.0000\$\\\",\\\"coin_cap_price_priceDifference\\\":\\\"111111.0000\$\\\",\\\"coin_market_volume24h\\\":\\\"5104859759.2521515\$\\\",\\\"coin_cap_volume24h\\\":\\\"3938267657.7141727233030099\$\\\"},{\\\"name\\\":\\\"Binance USD\\\",\\\"symbol\\\":\\\"BUSD\\\",\\\"supply\\\":\\\"16811371368.229256\\\",\\\"description\\\":\\\"description\\\",\\\"developmentStatus\\\":\\\"Working product\\\",\\\"proofType\\\":\\\"Proof of work\\\",\\\"orgStructure\\\":\\\"Decentralized\\\",\\\"coin_market_price_oldPriceUsd\\\":\\\"222222.2314\$\\\",\\\"coin_cap_price_oldPriceUsd\\\":\\\"222222.2314\$\\\",\\\"coin_market_price_newPriceUsd\\\":\\\"111111.2314\$\\\",\\\"coin_cap_price_newPriceUsd\\\":\\\"111111.2314\$\\\",\\\"coin_market_price_priceDifference\\\":\\\"111111.0000\$\\\",\\\"coin_cap_price_priceDifference\\\":\\\"111111.0000\$\\\",\\\"coin_market_volume24h\\\":\\\"4886564074.014513\$\\\",\\\"coin_cap_volume24h\\\":\\\"1014578206.9609374195744720\$\\\"}]}"}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Input-Payload" format="java">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Input-Payload.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Input_Payload = Any

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Input-Attributes" format="java">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Input-Attributes.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Input_Attributes = {|
  clientCertificate?: {|
    publicKey?: {|  |}, 
    "type"?: String, 
    encoded?: Binary
  |}, 
  headers: {|  |}, 
  listenerPath: String, 
  method: String, 
  queryParams: {|  |}, 
  queryString: String, 
  relativePath: String, 
  remoteAddress: String, 
  requestPath: String, 
  requestUri: String, 
  scheme: String, 
  uriParams: {| id: String |}, 
  version: String, 
  localAddress: String
|}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Input-Variables-outboundHeaders" format="java">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Input-Variables-outboundHeaders.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Input_Variables_outboundHeaders = {|  |}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Payload" format="json">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Payload.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Payload = {
  result: String, 
  _?: Any
}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Attributes" format="java">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Attributes.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Attributes = {|
  protocolHeaders: { _?: String }, 
  additionalTransportData: { _?: String }
|} {"typeAlias": "SoapAttributes",
"typeId": "org.mule.extension.ws.api.SoapAttributes"}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-market" format="java">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Variables-market.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_market = Any

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-slug1" format="json">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Variables-slug1.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_slug1 = String

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-cap" format="java">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Variables-cap.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_cap = Any

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-XMLPayload" format="xml">
      <types:shape format="weave" element="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-XMLPayload" location="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Variables-XMLPayload.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0
// namespaces
ns ns0 http://training.mulesoft.com/

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_XMLPayload = {|
  ns0#updateCoin: {|
    oldDate: String, 
    newDate: String, 
    dateDifference: String, 
    data: {|
      coin*: {|
        name: String, 
        symbol: String, 
        supply: String, 
        description: String, 
        developmentStatus: String, 
        proofType: String, 
        orgStructure: String, 
        coin_market_price_oldPriceUsd: String, 
        coin_cap_price_oldPriceUsd: String, 
        coin_market_price_newPriceUsd: String, 
        coin_cap_price_newPriceUsd: String, 
        coin_market_price_priceDifference: String, 
        coin_cap_price_priceDifference: String, 
        coin_market_volume24h: String, 
        coin_cap_volume24h: String
      |}
    |}
  |}
|}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-requestPayload" format="json">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Variables-requestPayload.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_requestPayload = {|
  date: String, 
  data: Any
|}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-httpStatus" format="java">
      <types:shape format="raml" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-consumePayload" format="json">
      <types:shape format="weave" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_consumePayload = {|
  date: String, 
  data: Array<{|    name: String,     symbol: String,     supply: String,     description: String,     developmentStatus: String,     proofType: String,     orgStructure: String,     coin_market_price: String,     coin_cap_price: String,     coin_market_volume24h: String,     coin_cap_volume24h: String  |}>
|} {"example": "{\\\"date\\\":\\\"2022-02-07T22:21:15.827+02:00\\\",\\\"data\\\":[{\\\"name\\\":\\\"Shiba Inu\\\",\\\"symbol\\\":\\\"SHIB\\\",\\\"supply\\\":\\\"589735030408322.8\\\",\\\"description\\\":\\\"description\\\",\\\"developmentStatus\\\":\\\"Working product\\\",\\\"proofType\\\":\\\"Proof of work\\\",\\\"orgStructure\\\":\\\"Decentralized\\\",\\\"coin_market_price\\\":\\\"0.0000\$\\\",\\\"coin_cap_price\\\":\\\"0.0000327134221111\$\\\",\\\"coin_market_volume24h\\\":\\\"5104859759.2521515\$\\\",\\\"coin_cap_volume24h\\\":\\\"3938267657.7141727233030099\$\\\"},{\\\"name\\\":\\\"Binance USD\\\",\\\"symbol\\\":\\\"BUSD\\\",\\\"supply\\\":\\\"16811371368.229256\\\",\\\"description\\\":\\\"description\\\",\\\"developmentStatus\\\":\\\"Working product\\\",\\\"proofType\\\":\\\"Proof of work\\\",\\\"orgStructure\\\":\\\"Decentralized\\\",\\\"coin_market_price\\\":\\\"1.0005\$\\\",\\\"coin_cap_price\\\":\\\"1.0012142506736812\$\\\",\\\"coin_market_volume24h\\\":\\\"4886564074.014513\$\\\",\\\"coin_cap_volume24h\\\":\\\"1014578206.9609374195744720\$\\\"}]}"}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-slug" format="json">
      <types:shape format="weave" example="examples/slugs.json" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_slug = Array<{| slug: String |}> {"example": "[{\\\"slug\\\":\\\"bitcoin\\\"},{\\\"slug\\\":\\\"ethereum\\\"}]"}

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-key" format="java">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Variables-key.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_key = String | Null

]]></types:shape>
    </types:type>
    <types:type name="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-outboundHeaders" format="java">
      <types:shape format="weave" example="weave/autogenerated/9837f920-93df-4961-8fd4-ec0c514b3bc6/Output-Variables-outboundHeaders.wev" autogeneratedOrigin="e42a4079-3842-4555-8c76-733294ff8d6f"><![CDATA[%dw 2.0

type auto_9837f920_93df_4961_8fd4_ec0c514b3bc6_Output_Variables_outboundHeaders = {|  |}

]]></types:shape>
    </types:type>
  </types:catalog>
  <types:enrichment select="#d4788987-4b4d-414e-9b8b-f2a7cf938c79">
    <types:processor-declaration>
      <types:output-event>
        <types:variables>
          <types:variable name="consumePayload" type="inputFromOstap"/>
        </types:variables>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#cac632f8-5901-4c2e-bca0-7dbc44849048">
    <types:processor-declaration>
      <types:output-event>
        <types:variables>
          <types:variable name="slug" type="slug"/>
        </types:variables>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#22e0989f-3db4-4c2d-a200-bf88e93731be">
    <types:processor-declaration>
      <types:output-event>
        <types:message>
          <types:payload type="combineJSON"/>
        </types:message>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#9837f920-93df-4961-8fd4-ec0c514b3bc6">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Input-Payload"/>
          <types:attributes type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Input-Attributes"/>
        </types:message>
        <types:variables>
          <types:variable name="outboundHeaders" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Input-Variables-outboundHeaders"/>
        </types:variables>
      </types:input-event>
      <types:output-event>
        <types:message>
          <types:payload type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Payload"/>
          <types:attributes type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Attributes"/>
        </types:message>
        <types:variables>
          <types:variable name="market" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-market"/>
          <types:variable name="slug1" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-slug1"/>
          <types:variable name="outboundHeaders" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-outboundHeaders"/>
          <types:variable name="cap" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-cap"/>
          <types:variable name="XMLPayload" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-XMLPayload"/>
          <types:variable name="requestPayload" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-requestPayload"/>
          <types:variable name="httpStatus" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-httpStatus"/>
          <types:variable name="consumePayload" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-consumePayload"/>
          <types:variable name="slug" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-slug"/>
          <types:variable name="key" type="auto_9837f920-93df-4961-8fd4-ec0c514b3bc6_Output-Variables-key"/>
        </types:variables>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
</types:mule>